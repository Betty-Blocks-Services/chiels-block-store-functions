{
  "description": "Send an e-mail using SMTP credentials v2.3",
  "label": "Send Email",
  "category": "External",
  "icon": {
    "color": "Orange",
    "name": "AtIcon"
  },
  "options": [
    {
      "meta": {
        "type": "Value",
        "allowedKinds": ["STRING"],
        "validations": { "required": true }
      },
      "name": "host",
      "label": "Hostname",
      "info": "The hostname of the SMTP server you want to use",
      "advanced": false,
      "configuration": {
        "placeholder": "smtp.flowmailer.net"
      }
    },
    {
      "meta": {
        "type": "Value",
        "allowedKinds": ["STRING", "INTEGER"],
        "validations": { "required": true }
      },
      "name": "port",
      "label": "Port",
      "info": "The port number of the SMTP server you want to use",
      "advanced": false,
      "configuration": {
        "placeholder": "587"
      }
    },
    {
      "meta": {
        "type": "Value",
        "allowedKinds": ["STRING"],
        "validations": { "required": true }
      },
      "name": "username",
      "label": "Username",
      "info": "The username of the SMTP server you want to use",
      "advanced": false,
      "configuration": {
        "placeholder": ""
      }
    },
    {
      "meta": {
        "type": "Value",
        "allowedKinds": ["STRING"],
        "validations": { "required": true }
      },
      "name": "password",
      "label": "Password",
      "info": "The password of the SMTP server you want to use",
      "advanced": false,
      "configuration": {
        "placeholder": "******"
      }
    },
    {
      "meta": {
        "type": "Boolean"
      },
      "name": "secure",
      "label": "Secure?",
      "info": "if true the connection will use TLS when connecting to server. If false (the default) then TLS is used if server supports the STARTTLS extension. In most cases set this value to true if you are connecting to port 465. For port 587 or 25 keep it false",
      "advanced": false
    },
    {
      "meta": {
        "type": "Text",
        "validations": { "required": true }
      },
      "name": "senderEmail",
      "label": "Sender E-mail",
      "info": "The email address of the sender",
      "advanced": false
    },
    {
      "meta": {
        "type": "Text"
      },
      "name": "senderName",
      "label": "Sender Name",
      "info": "The display name of the sender",
      "advanced": false
    },
    {
      "meta": {
        "type": "Text",
        "validations": { "required": true }
      },
      "name": "toEmail",
      "label": "Recipient",
      "info": "The email address of the recipient",
      "advanced": false
    },
    {
      "meta": {
        "type": "Text"
      },
      "name": "toName",
      "label": "Recipient name",
      "info": "The name of the recipient",
      "advanced": false
    },
    {
      "meta": {
        "type": "Text"
      },
      "name": "cc",
      "label": "CC",
      "info": "The email address of the CC",
      "advanced": false
    },
    {
      "meta": {
        "type": "Text"
      },
      "name": "replyTo",
      "label": "Reply To",
      "info": "The email address for the reply to if you want to differentiate it from the sender email address",
      "advanced": false
    },
    {
      "meta": {
        "type": "Text"
      },
      "name": "bcc",
      "label": "BCC",
      "info": "The email address of the BCC",
      "advanced": false
    },
    {
      "meta": {
        "type": "Text"
      },
      "name": "subject",
      "label": "Subject",
      "info": "The subject of the email",
      "advanced": false
    },
    {
      "meta": {
        "type": "MultilineText"
      },
      "name": "body",
      "label": "Body Template",
      "info": "The HTML body of the email with LiquidJS support",
      "advanced": false,
      "configuration": {
        "placeholder": "This field supports HTML, CSS and LiquidJS for easy templating"
      }
    },
    {
      "info": "Select all the variables you want to have available in the template with a key",
      "label": "Template Variables",
      "meta": {
        "type": "Map"
      },
      "name": "variables"
    },
    {
      "info": "Select the attachments you want to send with this email. Specify the filename in the left column, the file url in the right",
      "label": "Attachments",
      "meta": {
        "type": "Map"
      },
      "name": "attachments"
    },
    {
      "info": "Select the collection of attachments you want to send with this email.",
      "label": "Attachments (collection)",
      "meta": {
        "type": "Collection"
      },
      "name": "attachmentsCol"
    },
    {
      "info": "Select the property which contains the file in the collection",
      "label": "Property",
      "meta": {
        "type": "Property",
        "model": "attachmentsCol",
        "allowedKinds": ["FILE"]
      },
      "configuration": {
        "dependsOn": ["attachmentsCol"]
      },
      "name": "attachmentsColProperty"
    },
    {
      "meta": {
        "type": "Output",
        "output": {
          "type": "JSON"
        }
      },
      "name": "result",
      "label": "As",
      "info": "The result"
    }
  ],
  "yields": "NONE"
}
